<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <title>Quiz</title>
  </head>
  <body class="bg-body-secondary">
    <p class="mt-4 text-center fs-4" id="scoreValue"></p>
    <div class="container mt-5">
      <div class="card">
        <div class="card-body">
          <h2 class="text-center">Quiz Application</h2>
          <hr />
          <div id="question-container">
            <h5 id="question-number">Question 1 of 5</h5>
            <p id="question-text"></p>
            <!-- <div class="bg-info w-50 h-25"> <p>hello</p></div> -->

            <div class="text-end">
              <p>
                <strong>Time Left: <span id="timer">5</span> seconds</strong>
              </p>
            </div>

            <div id="options-container"></div>

            <div class="d-flex justify-content-between mt-4 align-items-center">
              <button
                class="btn btn-primary"
                id="prevBtn"
                onclick="prevQuestion()"
              >
                Prev
              </button>
              <button
                class="btn btn-success"
                id="nextBtn"
                onclick="nextQuestion()"
              >
                Next
              </button>
            </div>

            <div class="text-center mt-3">
              <button
                class="btn btn-info w-75"
                id="submitBtn"
                onclick="submitQuiz()"
              >
                Submit
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
  <script>
    let questionNum = document.getElementById("question-number");
    let questionText = document.getElementById("question-text");
    let optionsContainer = document.getElementById("options-container");
    let prevBtn = document.getElementById("prevBtn");
    let nextBtn = document.getElementById("nextBtn");
    let submitBtn = document.getElementById("submitBtn");
    let timer = document.getElementById("timer");
    const quizQuestions = [
      {
        question: "How many minutes are in a full week",
        answer: "10080",
        options: ["10080", "10000", "100000", "1000000"],
      },
      {
        question: "What is the 4th letter of the Greek alphabet",
        answer: "delta",
        options: ["alpha", "beta", "gamma", "delta"],
      },
      {
        question: "How many dots appear on a pair of dice?",
        answer: "42",
        options: ["6", "12", "42", "24"],
      },
      {
        question: "How many colours are in Nigeria's Flag?",
        answer: "2",
        options: ["3", "4", "2", "5"],
      },
      {
        question: "The presence of what can cause hardness of water?",
        answer: "Calcium",
        options: ["Calcium", "Phosphate", "Iron", "Sodium"],
      },
      {
        question: "Matter is anything that takes up space and has mass",
        answer: "True",
        options: ["False", "True"],
      },
    ];
    
    
    let currentQuestionIndex = 0;

    let selectedAnswers = [];
    let timerInterval;
    let timeLeft = 5;

    window.onload = loadQuestion;

    function loadQuestion() {
      const question = quizQuestions[currentQuestionIndex];
      questionNum.textContent = `Question ${currentQuestionIndex + 1} of ${
        quizQuestions.length
      }`;
      questionText.textContent = question.question;

      optionsContainer.innerHTML = "";
      question.options.forEach((option, index) => {
        const isChecked =
          selectedAnswers[currentQuestionIndex] === option ? "checked" : "";
        optionsContainer.innerHTML += `
        <span class="d-flex gap-2 align-items-center">
            <input type="radio" name="opt" id="option${index}" value="${option}" ${isChecked}>
            ${option}
        </span>
    `;
      });

      document.getElementById("prevBtn").disabled = currentQuestionIndex === 0;
      document.getElementById("nextBtn").disabled =
        currentQuestionIndex === quizQuestions.length - 1;
    }

    function nextQuestion() {
      saveAnswer();
      if (currentQuestionIndex < quizQuestions.length - 1) {
        currentQuestionIndex++;
        loadQuestion();
      } else {
        submitQuiz();
      }
    }
    function prevQuestion() {
      saveAnswer();
      if (currentQuestionIndex > 0) {
        currentQuestionIndex--;
        loadQuestion();
      }
    }
    function saveAnswer() {
      let optionSelected = document.querySelector(`input[name="opt"]:checked`);
      selectedAnswers[currentQuestionIndex] = optionSelected;
      if (optionSelected) {
        selectedAnswers[currentQuestionIndex] = optionSelected.value;
      }
    }
    function submitQuiz() {
      saveAnswer();
      score = 0;

      quizQuestions.forEach((question, index) => {
        if (selectedAnswers[index] === question.answer) {
          score++;
        }
      });
      document.getElementById(
        "scoreValue"
      ).innerHTML = `You got ${score} out of ${quizQuestions.length} questions correct!`;
    }
  </script>
</html>

<!-- const questions = [
        {
            question: "Who is your instructor?",
            options: ["Teslim", "Ben", "Dammy", "Mike"],
            answer: "Dammy"
        },
        {
            question: "What is the capital of France?",
            options: ["Paris", "London", "Rome", "Berlin"],
            answer: "Paris"
        },
        {
            question: "Which language is used for web development?",
            options: ["Python", "JavaScript", "Java", "C++"],
            answer: "JavaScript"
        },
        {
            question: "What is 2 + 2?",
            options: ["3", "4", "5", "6"],
            answer: "4"
        },
        {
            question: "What is the color of the sky?",
            options: ["Blue", "Green", "Red", "Yellow"],
            answer: "Blue"
        }
    ];

    let currentQuestionIndex = 0;
    let score = 0;
    let selectedAnswers = {};
    let timerInterval;
    let timeLeft = 5;


    window.onload = loadQuestion;


    function loadQuestion() {
        const question = questions[currentQuestionIndex];
        document.getElementById("question-number").textContent = `Question ${currentQuestionIndex + 1} of ${questions.length}`;
        document.getElementById("question-text").textContent = question.question;

    
        optionsContainer.innerHTML = '';
        question.options.forEach((option, index) => {
        const isChecked = selectedAnswers[currentQuestionIndex] === option ? "checked" : "";
        optionsContainer.innerHTML += `
            <span class="d-flex gap-2 align-items-center">
                <input type="radio" name="opt" id="option${index}" value="${option}" ${isChecked}>
                ${option}
            </span>
        `;
    });


    
        document.getElementById("prevBtn").disabled = currentQuestionIndex === 0;
        document.getElementById("nextBtn").disabled = currentQuestionIndex === questions.length - 1;


        resetTimer();
    }


    function startTimer() {
        timerInterval = setInterval(() => {
            document.getElementById("timer").textContent = timeLeft;
            if (timeLeft <= 0) {
                nextQuestion();
            } else {
                timeLeft--;
            }
        }, 1000);
    }


    function resetTimer() {
        clearInterval(timerInterval);
        timeLeft = 5; 
        document.getElementById("timer").textContent = timeLeft;
        startTimer();
    }


    function nextQuestion() {
        saveAnswer();
        if (currentQuestionIndex < questions.length - 1) {
            currentQuestionIndex++;
            loadQuestion();
        } else {
            submitQuiz(); 
        }
    }


    function prevQuestion() {
        saveAnswer();
        if (currentQuestionIndex > 0) {
            currentQuestionIndex--;
            loadQuestion();
        }
    }


    function saveAnswer() {
        const selectedOption = document.querySelector('input[name="option"]:checked');
        if (selectedOption) {
            selectedAnswers[currentQuestionIndex] = selectedOption.value;
        }
    }


    function submitQuiz() {
        clearInterval(timerInterval); 
        saveAnswer();
        score = 0;
        
    
        questions.forEach((question, index) => {
            if (selectedAnswers[index] === question.answer) {
                score++;
            }
        });

        
        alert(`You scored ${score} out of ${questions.length}`);
    } -->
